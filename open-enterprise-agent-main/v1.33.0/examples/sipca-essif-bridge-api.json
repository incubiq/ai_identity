{
  "openapi": "3.0.1",
  "info": {
    "title": "Sicpa Bridge API",
    "version": "0.0.1"
  },
  "servers": [
    {
      "url": "/api/"
    }
  ],
  "tags": [
    {
      "name": "Verifications",
      "description": "The Verifications API"
    },
    {
      "name": "Schemas",
      "description": "The Schemas API"
    },
    {
      "name": "OpenID Connect Connect",
      "description": "OpenID Connect API"
    },
    {
      "name": "Credential Definitions",
      "description": "The Credential Definitions API"
    },
    {
      "name": "JSON-LD Verification",
      "description": "Verify a given credential."
    },
    {
      "name": "Connections",
      "description": "The Connections API"
    },
    {
      "name": "JSON-LD Credentials",
      "description": "Issues a JSON-LD credential and returns it in the response body."
    },
    {
      "name": "Credentials Issuance",
      "description": "The Credentials Issuance API"
    }
  ],
  "paths": {
    "/verifications": {
      "post": {
        "tags": [
          "Verifications"
        ],
        "summary": "Create a new Verification",
        "operationId": "verificationsPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerificationCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Verification"
                }
              }
            }
          }
        }
      }
    },
    "/verification-templates": {
      "post": {
        "tags": [
          "Verifications"
        ],
        "summary": "Create a new Verification Template",
        "operationId": "verificationTemplatesPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerificationTemplateCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerificationTemplate"
                }
              }
            }
          }
        }
      }
    },
    "/schemas": {
      "post": {
        "tags": [
          "Schemas"
        ],
        "summary": "Create a new schema",
        "operationId": "schemaPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SchemaCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SchemaSummary"
                }
              }
            }
          }
        }
      }
    },
    "/presentations/verify": {
      "post": {
        "tags": [
          "JSON-LD Verification"
        ],
        "operationId": "verityCredential",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifiablePresentation"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerificationResult"
                }
              }
            }
          }
        }
      }
    },
    "/oidc/sendcredential": {
      "post": {
        "tags": [
          "OpenID Connect Connect"
        ],
        "summary": "Sends a credential",
        "operationId": "sendCredential",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/oidc/didauthresponse/{clientId}": {
      "post": {
        "tags": [
          "OpenID Connect Connect"
        ],
        "summary": "Processes Auth Response",
        "operationId": "didAuthResponse",
        "parameters": [
          {
            "name": "clientId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/AuthResponseCallback"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/oidc/didauthrequest": {
      "post": {
        "tags": [
          "OpenID Connect Connect"
        ],
        "summary": "Create a new authenticate url",
        "operationId": "didAuthRequest",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthRequestParam"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthRequestResponse"
                }
              }
            }
          }
        }
      }
    },
    "/credentials/verify": {
      "post": {
        "tags": [
          "JSON-LD Verification"
        ],
        "operationId": "verityCredential_1",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/VerifiableCredential"
                  },
                  {
                    "$ref": "#/components/schemas/VerifiableCredentialMultipleProof"
                  }
                ]
              },
              "examples": {
                "Verifiable Credential": {
                  "description": "Verifiable Credential",
                  "value": {
                    "@context": [
                      "https://www.w3.org/2018/credentials/v1",
                      "https://www.w3.org/2018/credentials/examples/v1"
                    ],
                    "id": "http://example.gov/credentials/3732",
                    "type": [
                      "VerifiableCredential",
                      "UniversityDegreeCredential"
                    ],
                    "issuer": "did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd",
                    "issuanceDate": "2020-03-16T22:37:26.544Z",
                    "expirationDate": "2020-03-16T22:37:26.544Z",
                    "credentialSubject": {
                      "id": "did:example:123",
                      "degree": {
                        "type": "BachelorDegree",
                        "name": "Bachelor of Science and Arts"
                      }
                    },
                    "proof": {
                      "type": "Ed25519Signature2018",
                      "created": "2020-04-02T18:28:08Z",
                      "verificationMethod": "did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN",
                      "proofPurpose": "assertionMethod",
                      "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..YtqjEYnFENT7fNW-COD0HAACxeuQxPKAmp4nIl8jYAu__6IH2FpSxv81w-l5PvE1og50tS9tH8WyXMlXyo45CA"
                    }
                  }
                },
                "Multiple Proof Verifiable Credential": {
                  "description": "Multiple Proof Verifiable Credential",
                  "value": {
                    "@context": [
                      "https://www.w3.org/2018/credentials/v1",
                      "https://www.w3.org/2018/credentials/examples/v1"
                    ],
                    "id": "http://example.gov/credentials/3732",
                    "type": [
                      "VerifiableCredential",
                      "UniversityDegreeCredential"
                    ],
                    "issuer": "did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd",
                    "issuanceDate": "2020-03-16T22:37:26.544Z",
                    "expirationDate": "2020-03-16T22:37:26.544Z",
                    "credentialSubject": {
                      "id": "did:example:123",
                      "degree": {
                        "type": "BachelorDegree",
                        "name": "Bachelor of Science and Arts"
                      }
                    },
                    "proof": [
                      {
                        "type": "Ed25519Signature2018",
                        "created": "2020-04-02T18:28:08Z",
                        "verificationMethod": "did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN",
                        "proofPurpose": "assertionMethod",
                        "jws": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..YtqjEYnFENT7fNW-COD0HAACxeuQxPKAmp4nIl8jYAu__6IH2FpSxv81w-l5PvE1og50tS9tH8WyXMlXyo45CA"
                      }
                    ]
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerificationResult"
                }
              }
            }
          },
          "400": {
            "description": "invalid input!",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "500": {
            "description": "error!",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/credentials/issue": {
      "post": {
        "tags": [
          "JSON-LD Credentials"
        ],
        "operationId": "issueCredential",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Credential"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Credential successfully issued!",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifiableCredential"
                }
              }
            }
          },
          "400": {
            "description": "invalid input!",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "500": {
            "description": "error!",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/credentials-issuance": {
      "post": {
        "tags": [
          "Credentials Issuance"
        ],
        "summary": "Issue new credentials",
        "operationId": "issuanceCredentialPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CredentialCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CredentialIssuance"
                }
              }
            }
          }
        }
      }
    },
    "/credential-definitions": {
      "post": {
        "tags": [
          "Credential Definitions"
        ],
        "summary": "Create a new credentialDefinition",
        "operationId": "credentialDefinitionPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CredentialDefinitionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CredentialDefinitionSummary"
                }
              }
            }
          }
        }
      }
    },
    "/connections": {
      "post": {
        "tags": [
          "Connections"
        ],
        "summary": "Create a new connection invitation",
        "operationId": "connectionsPost",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConnectionInvitationCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectionInvitationCreationResult"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "VerificationCreate": {
        "required": [
          "connectionId",
          "verificationTemplateId"
        ],
        "type": "object",
        "properties": {
          "verificationTemplateId": {
            "type": "integer",
            "description": "The verification template id",
            "format": "int32",
            "example": 0
          },
          "connectionId": {
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
            "type": "string",
            "description": "The connection id",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
          },
          "comment": {
            "type": "string",
            "description": "An optional comment"
          }
        }
      },
      "RequestedAttribute": {
        "required": [
          "names",
          "restrictions"
        ],
        "type": "object",
        "properties": {
          "names": {
            "type": "array",
            "description": "List of attribute names",
            "items": {
              "type": "string",
              "description": "List of attribute names"
            }
          },
          "restrictions": {
            "type": "array",
            "description": "The attribute restrictions. At least one restriction should be valid in order for the verification to be successful. (Not considering predicates, revocation requirements...)",
            "items": {
              "$ref": "#/components/schemas/Restriction"
            }
          }
        },
        "description": "The requested attributes"
      },
      "RequestedPredicate": {
        "required": [
          "name",
          "predicateType",
          "predicateValue",
          "restrictions"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "A predicate name"
          },
          "predicateType": {
            "type": "string",
            "description": "A predicate type",
            "enum": [
              "LESS_THAN",
              "LESS_THAN_OR_EQUAL_TO",
              "GREATER_THAN_OR_EQUAL_TO",
              "GREATER_THAN"
            ]
          },
          "predicateValue": {
            "type": "integer",
            "description": "A predicate value",
            "format": "int32"
          },
          "restrictions": {
            "type": "array",
            "description": "A list of predicate restrictions",
            "items": {
              "$ref": "#/components/schemas/Restriction"
            }
          }
        },
        "description": "The requested predicates"
      },
      "Restriction": {
        "required": [
          "credentialDefinitionId"
        ],
        "type": "object",
        "properties": {
          "credentialDefinitionId": {
            "type": "string",
            "description": "A credential definition ID"
          },
          "schemaId": {
            "type": "string",
            "description": "A schema ID"
          }
        },
        "description": "A list of predicate restrictions"
      },
      "Verification": {
        "required": [
          "connectionId",
          "createdAt",
          "state",
          "updatedAt",
          "verificationId",
          "verificationRequest"
        ],
        "type": "object",
        "properties": {
          "verificationId": {
            "type": "string",
            "description": "The verification id",
            "example": "ac32f24e-2f90-4e90-9427-c59482078a4b"
          },
          "connectionId": {
            "type": "string",
            "description": "The connection id",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
          },
          "verificationRequest": {
            "$ref": "#/components/schemas/VerificationRequest"
          },
          "state": {
            "type": "string",
            "description": "The verification state",
            "enum": [
              "SUCCESS",
              "PENDING",
              "FAILURE",
              "ERROR"
            ]
          },
          "createdAt": {
            "type": "string",
            "description": "The creation date ",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "description": "The update date",
            "format": "date-time"
          }
        }
      },
      "VerificationRequest": {
        "required": [
          "name",
          "requestedAttributes",
          "requestedPredicates"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The verification request name"
          },
          "requestedAttributes": {
            "type": "array",
            "description": "The requested attributes",
            "items": {
              "$ref": "#/components/schemas/RequestedAttribute"
            }
          },
          "requestedPredicates": {
            "type": "array",
            "description": "The requested predicates",
            "items": {
              "$ref": "#/components/schemas/RequestedPredicate"
            }
          },
          "validAt": {
            "type": "string",
            "description": "The date at which the credential should be valid",
            "format": "date-time"
          }
        },
        "description": "The verification request"
      },
      "RevocationRequirement": {
        "type": "object",
        "properties": {
          "validAt": {
            "type": "string",
            "description": "Date at which the credential should be valid",
            "format": "date-time"
          },
          "validNow": {
            "type": "boolean",
            "description": "Defines if the credential should be valid at the current date"
          }
        }
      },
      "VerificationTemplateContent": {
        "required": [
          "requestedAttributes",
          "requestedPredicates"
        ],
        "type": "object",
        "properties": {
          "requestedAttributes": {
            "type": "array",
            "description": "The requested attributes. In order for the verification to be successful, all requested attribute should be validated",
            "items": {
              "$ref": "#/components/schemas/RequestedAttribute"
            }
          },
          "requestedPredicates": {
            "type": "array",
            "description": "The requested predicates. In order for the verification to be successful, all requested predicates should be validated",
            "items": {
              "$ref": "#/components/schemas/RequestedPredicate"
            }
          },
          "revocationRequirement": {
            "$ref": "#/components/schemas/RevocationRequirement"
          }
        }
      },
      "VerificationTemplateCreate": {
        "required": [
          "content",
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The verificationTemplate name"
          },
          "content": {
            "$ref": "#/components/schemas/VerificationTemplateContent"
          }
        }
      },
      "VerificationTemplate": {
        "required": [
          "content",
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The verificationTemplate id",
            "format": "int32"
          },
          "name": {
            "type": "string",
            "description": "The verificationTemplate name",
            "example": "example"
          },
          "content": {
            "$ref": "#/components/schemas/VerificationTemplateContent"
          }
        }
      },
      "SchemaCreate": {
        "required": [
          "attributesName",
          "name",
          "version"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Schema name",
            "example": "prefs"
          },
          "version": {
            "pattern": "^[0-9.]+$",
            "type": "string",
            "description": "Schema version",
            "example": "1.0"
          },
          "attributesName": {
            "type": "array",
            "description": "List of schema attributes",
            "items": {
              "type": "string",
              "description": "List of schema attributes"
            }
          }
        }
      },
      "SchemaSummary": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}:2:.+:[0-9.]+$",
            "type": "string",
            "description": "The schema's id"
          }
        }
      },
      "LinkedDataProof": {
        "required": [
          "created",
          "jws",
          "proofPurpose",
          "type",
          "verificationMethod"
        ],
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Linked Data Signature Suite used to produce proof.",
            "example": "Ed25519Signature2018"
          },
          "created": {
            "type": "string",
            "description": "Date the proof was created.",
            "example": "2020-04-02T18:28:08Z"
          },
          "verificationMethod": {
            "type": "string",
            "description": "Verification Method used to verify proof.",
            "example": "did:example:123#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN"
          },
          "proofPurpose": {
            "type": "string",
            "description": "The purpose of the proof to be used with verificationMethod.",
            "example": "assertionMethod"
          },
          "jws": {
            "type": "string",
            "description": "Detached JSON Web Signature",
            "example": "eyJhbGciOiJFZERTQSIsImI2NCI6ZmFsc2UsImNyaXQiOlsiYjY0Il19..YtqjEYnFENT7fNW-COD0HAACxeuQxPKAmp4nIl8jYAu__6IH2FpSxv81w-l5PvE1og50tS9tH8WyXMlXyo45CA"
          },
          "cades": {
            "type": "string"
          }
        },
        "description": "A JSON-LD Linked Data proof."
      },
      "VerifiableCredential": {
        "required": [
          "@context",
          "credentialSubject",
          "issuanceDate",
          "issuer",
          "proof",
          "type"
        ],
        "type": "object",
        "properties": {
          "@context": {
            "type": "array",
            "description": "The JSON-LD context of the credential.",
            "example": [
              "https://www.w3.org/2018/credentials/v1",
              "https://www.w3.org/2018/credentials/examples/v1"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD context of the credential.",
              "example": "[\"https://www.w3.org/2018/credentials/v1\",\"https://www.w3.org/2018/credentials/examples/v1\"]"
            }
          },
          "id": {
            "type": "string",
            "description": "The ID of the credential.",
            "nullable": true,
            "example": "http://example.gov/credentials/3732"
          },
          "type": {
            "type": "array",
            "description": "The JSON-LD type of the credential.",
            "example": [
              "VerifiableCredential",
              "UniversityDegreeCredential"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD type of the credential.",
              "example": "[\"VerifiableCredential\",\"UniversityDegreeCredential\"]"
            }
          },
          "issuer": {
            "type": "string",
            "description": "A JSON-LD Verifiable com.sicpa.bridge.api.jsonld.domain.model.Credential Issuer.",
            "example": "did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd"
          },
          "issuanceDate": {
            "type": "string",
            "description": "The issuanceDate",
            "example": "2020-03-16T22:37:26.544Z"
          },
          "expirationDate": {
            "type": "string",
            "description": "The expirationDate",
            "nullable": true,
            "example": "2020-03-16T22:37:26.544Z"
          },
          "credentialSubject": {
            "type": "object",
            "description": "The subject",
            "example": {
              "id": "did:example:123",
              "degree": {
                "type": "BachelorDegree",
                "name": "Bachelor of Science and Arts"
              }
            }
          },
          "proof": {
            "$ref": "#/components/schemas/LinkedDataProof"
          }
        }
      },
      "VerifiablePresentation": {
        "required": [
          "@context",
          "holder",
          "proof",
          "type",
          "verifiableCredential"
        ],
        "type": "object",
        "properties": {
          "@context": {
            "type": "array",
            "description": "The JSON-LD context of the presentation.",
            "example": [
              "https://www.w3.org/2018/credentials/v1",
              "https://www.w3.org/2018/credentials/examples/v1"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD context of the presentation.",
              "example": "[\"https://www.w3.org/2018/credentials/v1\",\"https://www.w3.org/2018/credentials/examples/v1\"]"
            }
          },
          "holder": {
            "type": "string",
            "description": "The holder",
            "example": "did:example:123"
          },
          "type": {
            "type": "string",
            "description": "The JSON-LD type of the presentation.",
            "example": "VerifiablePresentation"
          },
          "verifiableCredential": {
            "$ref": "#/components/schemas/VerifiableCredential"
          },
          "proof": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LinkedDataProof"
            }
          }
        }
      },
      "VerificationResult": {
        "required": [
          "checks",
          "errors",
          "warnings"
        ],
        "type": "object",
        "properties": {
          "checks": {
            "type": "array",
            "description": "The checks performed",
            "example": [
              "proof"
            ],
            "items": {
              "type": "string",
              "description": "The checks performed",
              "example": "[\"proof\"]"
            }
          },
          "warnings": {
            "type": "array",
            "description": "Warnings",
            "example": [],
            "items": {
              "type": "string",
              "description": "Warnings",
              "example": "[]"
            }
          },
          "errors": {
            "type": "array",
            "description": "Errors",
            "example": [],
            "items": {
              "type": "string",
              "description": "Errors",
              "example": "[]"
            }
          },
          "info": {
            "type": "object"
          }
        }
      },
      "AuthResponseCallback": {
        "required": [
          "id_token",
          "login_challenge",
          "state"
        ],
        "type": "object",
        "properties": {
          "id_token": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "login_challenge": {
            "type": "string"
          }
        }
      },
      "AuthRequestParam": {
        "required": [
          "clientId",
          "credentialId"
        ],
        "type": "object",
        "properties": {
          "clientId": {
            "type": "string"
          },
          "credentialId": {
            "type": "string"
          }
        }
      },
      "AuthRequestResponse": {
        "required": [
          "url"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          }
        }
      },
      "VerifiableCredentialMultipleProof": {
        "required": [
          "@context",
          "credentialSubject",
          "issuanceDate",
          "issuer",
          "proof",
          "type"
        ],
        "type": "object",
        "properties": {
          "@context": {
            "type": "array",
            "description": "The JSON-LD context of the credential.",
            "example": [
              "https://www.w3.org/2018/credentials/v1",
              "https://www.w3.org/2018/credentials/examples/v1"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD context of the credential.",
              "example": "[\"https://www.w3.org/2018/credentials/v1\",\"https://www.w3.org/2018/credentials/examples/v1\"]"
            }
          },
          "id": {
            "type": "string",
            "description": "The ID of the credential.",
            "nullable": true,
            "example": "http://example.gov/credentials/3732"
          },
          "type": {
            "type": "array",
            "description": "The JSON-LD type of the credential.",
            "example": [
              "VerifiableCredential",
              "UniversityDegreeCredential"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD type of the credential.",
              "example": "[\"VerifiableCredential\",\"UniversityDegreeCredential\"]"
            }
          },
          "issuer": {
            "type": "string",
            "description": "A JSON-LD Verifiable com.sicpa.bridge.api.jsonld.domain.model.Credential Issuer.",
            "example": "did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd"
          },
          "issuanceDate": {
            "type": "string",
            "description": "The issuanceDate",
            "example": "2020-03-16T22:37:26.544Z"
          },
          "expirationDate": {
            "type": "string",
            "description": "The expirationDate",
            "nullable": true,
            "example": "2020-03-16T22:37:26.544Z"
          },
          "credentialSubject": {
            "type": "object",
            "description": "The subject",
            "example": {
              "id": "did:example:123",
              "degree": {
                "type": "BachelorDegree",
                "name": "Bachelor of Science and Arts"
              }
            }
          },
          "proof": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LinkedDataProof"
            }
          }
        }
      },
      "Credential": {
        "required": [
          "@context",
          "credentialSubject",
          "issuanceDate",
          "issuer",
          "type"
        ],
        "type": "object",
        "properties": {
          "@context": {
            "type": "array",
            "description": "The JSON-LD context of the credential.",
            "example": [
              "https://www.w3.org/2018/credentials/v1",
              "https://www.w3.org/2018/credentials/examples/v1"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD context of the credential.",
              "example": "[\"https://www.w3.org/2018/credentials/v1\",\"https://www.w3.org/2018/credentials/examples/v1\"]"
            }
          },
          "id": {
            "type": "string",
            "description": "The ID of the credential.",
            "nullable": true,
            "example": "http://example.gov/credentials/3732"
          },
          "type": {
            "type": "array",
            "description": "The JSON-LD type of the credential.",
            "example": [
              "VerifiableCredential",
              "UniversityDegreeCredential"
            ],
            "items": {
              "type": "string",
              "description": "The JSON-LD type of the credential.",
              "example": "[\"VerifiableCredential\",\"UniversityDegreeCredential\"]"
            }
          },
          "issuer": {
            "type": "string",
            "description": "A JSON-LD Verifiable com.sicpa.bridge.api.jsonld.domain.model.Credential Issuer.",
            "example": "did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd"
          },
          "issuanceDate": {
            "type": "string",
            "description": "The issuanceDate",
            "example": "2020-03-16T22:37:26.544Z"
          },
          "credentialSubject": {
            "type": "object",
            "description": "The subject",
            "example": {
              "id": "did:example:123",
              "degree": {
                "type": "BachelorDegree",
                "name": "Bachelor of Science and Arts"
              }
            }
          }
        }
      },
      "CredentialAttribute": {
        "required": [
          "name",
          "value"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "A credential attribute name"
          },
          "value": {
            "type": "string",
            "description": "A credential attribute value"
          }
        },
        "description": "A list of credential attributes"
      },
      "CredentialCreate": {
        "required": [
          "attributes",
          "credentialDefinitionId",
          "schemaId"
        ],
        "type": "object",
        "properties": {
          "connectionId": {
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
            "type": "string",
            "description": "A connection ID",
            "example": "3fa85f64-5717-4562-b3fc-2c963f66afa6"
          },
          "schemaId": {
            "pattern": "^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}:2:.+:[0-9.]+$",
            "type": "string",
            "description": "A schema ID"
          },
          "credentialDefinitionId": {
            "pattern": "([123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}):3:CL:(([1-9][0-9]*)|([123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}:2:.+:[0-9.]+)):(.+)?$",
            "type": "string",
            "description": "A credential definition ID"
          },
          "comment": {
            "type": "string",
            "description": "A human readable comment"
          },
          "attributes": {
            "type": "array",
            "description": "A list of credential attributes",
            "items": {
              "$ref": "#/components/schemas/CredentialAttribute"
            }
          }
        }
      },
      "CredentialIssuance": {
        "required": [
          "credential",
          "issuanceId",
          "state"
        ],
        "type": "object",
        "properties": {
          "issuanceId": {
            "type": "string",
            "description": "A credential issuance ID"
          },
          "errorMessage": {
            "type": "string",
            "description": "Optional error message"
          },
          "state": {
            "type": "string",
            "description": "State of the credential transaction"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          },
          "credential": {
            "$ref": "#/components/schemas/Credential"
          }
        }
      },
      "CredentialDefinitionCreate": {
        "required": [
          "schemaId",
          "supportRevocation",
          "tag"
        ],
        "type": "object",
        "properties": {
          "schemaId": {
            "pattern": "^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}:2:.+:[0-9.]+$",
            "type": "string",
            "description": "Schema identifier",
            "example": "WgWxqztrNooG92RXvxSTWv:2:schema_name:1.0"
          },
          "tag": {
            "type": "string",
            "description": "Credential definition identifier tag",
            "example": "default"
          },
          "supportRevocation": {
            "type": "boolean",
            "description": "Revocation supported flag"
          }
        }
      },
      "CredentialDefinitionSummary": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "pattern": "([123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}):3:CL:(([1-9][0-9]*)|([123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{21,22}:2:.+:[0-9.]+)):(.+)?$",
            "type": "string",
            "description": "The credential definition's id"
          }
        }
      },
      "ConnectionInvitationCreate": {
        "type": "object",
        "properties": {
          "alias": {
            "type": "string",
            "description": "Connection alias",
            "example": "Some alias"
          }
        }
      },
      "ConnectionInvitationContent": {
        "required": [
          "invitationId",
          "recipientKeys",
          "serviceEndpoint"
        ],
        "type": "object",
        "properties": {
          "invitationId": {
            "type": "string",
            "description": "The connection's invitation id"
          },
          "serviceEndpoint": {
            "type": "string",
            "description": "The connection's service endpoint"
          },
          "recipientKeys": {
            "type": "array",
            "description": "The list of recipient's keys",
            "items": {
              "type": "string",
              "description": "The list of recipient's keys"
            }
          },
          "label": {
            "type": "string",
            "description": "The connection's label"
          }
        }
      },
      "ConnectionInvitationCreationResult": {
        "required": [
          "connectionId",
          "connectionInvitationContent",
          "invitationUrl"
        ],
        "type": "object",
        "properties": {
          "invitationUrl": {
            "type": "string",
            "description": "Invitation URL",
            "example": "http://192.168.56.101:8020/invite?c_i=eyJAdHlwZSI6Li4ufQ=="
          },
          "connectionInvitationContent": {
            "$ref": "#/components/schemas/ConnectionInvitationContent"
          },
          "connectionId": {
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$",
            "type": "string"
          }
        }
      }
    }
  }
}